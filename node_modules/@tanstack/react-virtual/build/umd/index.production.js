/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ReactVirtual={},e.React)}(this,(function(e,t){"use strict";function n(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var o=n(t);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r.apply(this,arguments)}
/**
   * virtual-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i.apply(this,arguments)}
/**
   * virtual-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function s(e,t,n){var o,r,i=null!=(o=n.initialDeps)?o:[];return function(){var o;n.key&&null!=n.debug&&n.debug()&&(o=Date.now());var s,l=e();if(!(l.length!==i.length||l.some((function(e,t){return i[t]!==e}))))return r;if(i=l,n.key&&null!=n.debug&&n.debug()&&(s=Date.now()),r=t.apply(void 0,l),n.key&&null!=n.debug&&n.debug()){var u=Math.round(100*(Date.now()-o))/100,a=Math.round(100*(Date.now()-s))/100,c=a/16,d=function(e,t){for(e=String(e);e.length<t;)e=" "+e;return e};console.info("%c⏱ "+d(a,5)+" /"+d(u,5)+" ms","\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl("+Math.max(0,Math.min(120-120*c,120))+"deg 100% 31%);",null==n?void 0:n.key)}return null==n||null==n.onChange||n.onChange(r),r}}function l(e,t){if(void 0===e)throw new Error("Unexpected undefined"+(t?": "+t:""));return e}var u=function(e,t){return Math.abs(e-t)<1},a=function(e){return e},c=function(e){for(var t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),o=[],r=t;r<=n;r++)o.push(r);return o},d=function(e,t){var n=e.scrollElement;if(n){var o=function(e){var n=e.width,o=e.height;t({width:Math.round(n),height:Math.round(o)})};o(n.getBoundingClientRect());var r=new ResizeObserver((function(e){var t=e[0];if(null!=t&&t.borderBoxSize){var r=t.borderBoxSize[0];if(r)return void o({width:r.inlineSize,height:r.blockSize})}o(n.getBoundingClientRect())}));return r.observe(n,{box:"border-box"}),function(){r.unobserve(n)}}},f=function(e,t){var n=e.scrollElement;if(n){var o=function(){t({width:n.innerWidth,height:n.innerHeight})};return o(),n.addEventListener("resize",o,{passive:!0}),function(){n.removeEventListener("resize",o)}}},h=function(e,t){var n=e.scrollElement;if(n){var o=function(){t(n[e.options.horizontal?"scrollLeft":"scrollTop"])};return o(),n.addEventListener("scroll",o,{passive:!0}),function(){n.removeEventListener("scroll",o)}}},m=function(e,t){var n=e.scrollElement;if(n){var o=function(){t(n[e.options.horizontal?"scrollX":"scrollY"])};return o(),n.addEventListener("scroll",o,{passive:!0}),function(){n.removeEventListener("scroll",o)}}},v=function(e,t,n){if(null!=t&&t.borderBoxSize){var o=t.borderBoxSize[0];if(o)return Math.round(o[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},g=function(e,t,n){var o,r,i=t.adjustments,s=void 0===i?0:i,l=t.behavior,u=e+s;null==(o=n.scrollElement)||null==o.scrollTo||o.scrollTo(((r={})[n.options.horizontal?"left":"top"]=u,r.behavior=l,r))},p=function(e,t,n){var o,r,i=t.adjustments,s=void 0===i?0:i,l=t.behavior,u=e+s;null==(o=n.scrollElement)||null==o.scrollTo||o.scrollTo(((r={})[n.options.horizontal?"left":"top"]=u,r.behavior=l,r))},b=function(e){var t,n,o=this;this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=(t=null,n=function(){return t||("undefined"!=typeof ResizeObserver?t=new ResizeObserver((function(e){e.forEach((function(e){o._measureElement(e.target,e)}))})):null)},{disconnect:function(){var e;return null==(e=n())?void 0:e.disconnect()},observe:function(e){var t;return null==(t=n())?void 0:t.observe(e,{box:"border-box"})},unobserve:function(e){var t;return null==(t=n())?void 0:t.unobserve(e)}}),this.range={startIndex:0,endIndex:0},this.setOptions=function(e){Object.entries(e).forEach((function(t){var n=t[0];void 0===t[1]&&delete e[n]})),o.options=i({debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:a,rangeExtractor:c,onChange:function(){},measureElement:v,initialRect:{width:0,height:0},scrollMargin:0,scrollingDelay:150,indexAttribute:"data-index",initialMeasurementsCache:[]},e)},this.notify=function(){null==o.options.onChange||o.options.onChange(o)},this.cleanup=function(){o.unsubs.filter(Boolean).forEach((function(e){return e()})),o.unsubs=[],o.scrollElement=null},this._didMount=function(){return o.measureElementCache.forEach(o.observer.observe),function(){o.observer.disconnect(),o.cleanup()}},this._willUpdate=function(){var e=o.options.getScrollElement();o.scrollElement!==e&&(o.cleanup(),o.scrollElement=e,o._scrollToOffset(o.scrollOffset,{adjustments:void 0,behavior:void 0}),o.unsubs.push(o.options.observeElementRect(o,(function(e){var t=o.scrollRect;o.scrollRect=e,(o.options.horizontal?e.width!==t.width:e.height!==t.height)&&o.maybeNotify()}))),o.unsubs.push(o.options.observeElementOffset(o,(function(e){o.scrollAdjustments=0,o.scrollOffset!==e&&(null!==o.isScrollingTimeoutId&&(clearTimeout(o.isScrollingTimeoutId),o.isScrollingTimeoutId=null),o.isScrolling=!0,o.scrollDirection=o.scrollOffset<e?"forward":"backward",o.scrollOffset=e,o.maybeNotify(),o.isScrollingTimeoutId=setTimeout((function(){o.isScrollingTimeoutId=null,o.isScrolling=!1,o.scrollDirection=null,o.maybeNotify()}),o.options.scrollingDelay))}))))},this.getSize=function(){return o.scrollRect[o.options.horizontal?"width":"height"]},this.memoOptions=s((function(){return[o.options.count,o.options.paddingStart,o.options.scrollMargin,o.options.getItemKey]}),(function(e,t,n,r){return o.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:t,scrollMargin:n,getItemKey:r}}),{key:!1}),this.getMeasurements=s((function(){return[o.memoOptions(),o.itemSizeCache]}),(function(e,t){var n=e.count,r=e.paddingStart,i=e.scrollMargin,s=e.getItemKey,l=o.pendingMeasuredCacheIndexes.length>0?Math.min.apply(Math,o.pendingMeasuredCacheIndexes):0;o.pendingMeasuredCacheIndexes=[];for(var u=o.measurementsCache.slice(0,l),a=l;a<n;a++){var c=s(a),d=t.get(c),f=u[a-1]?u[a-1].end:r+i,h="number"==typeof d?d:o.options.estimateSize(a),m=f+h;u[a]={index:a,start:f,size:h,end:m,key:c}}return o.measurementsCache=u,u}),{key:!1,debug:function(){return o.options.debug}}),this.calculateRange=s((function(){return[o.getMeasurements(),o.getSize(),o.scrollOffset]}),(function(e,t,n){return o.range=function(e){var t=e.measurements,n=e.outerSize,o=e.scrollOffset,r=t.length-1,i=y(0,r,(function(e){return t[e].start}),o),s=i;for(;s<r&&t[s].end<o+n;)s++;return{startIndex:i,endIndex:s}}({measurements:e,outerSize:t,scrollOffset:n})}),{key:!1,debug:function(){return o.options.debug}}),this.maybeNotify=s((function(){var e=o.calculateRange();return[e.startIndex,e.endIndex,o.isScrolling]}),(function(){o.notify()}),{key:!1,debug:function(){return o.options.debug},initialDeps:[this.range.startIndex,this.range.endIndex,this.isScrolling]}),this.getIndexes=s((function(){return[o.options.rangeExtractor,o.calculateRange(),o.options.overscan,o.options.count]}),(function(e,t,n,o){return e(i({},t,{overscan:n,count:o}))}),{key:!1,debug:function(){return o.options.debug}}),this.indexFromElement=function(e){var t=o.options.indexAttribute,n=e.getAttribute(t);return n?parseInt(n,10):(console.warn("Missing attribute name '"+t+"={index}' on measured element."),-1)},this._measureElement=function(e,t){var n,r=o.indexFromElement(e),i=o.measurementsCache[r];if(i){var s=o.measureElementCache.get(i.key);if(!e.isConnected)return o.observer.unobserve(e),void(e===s&&o.measureElementCache.delete(i.key));s!==e&&(s&&o.observer.unobserve(s),o.observer.observe(e),o.measureElementCache.set(i.key,e));var l=o.options.measureElement(e,t,o),u=l-(null!=(n=o.itemSizeCache.get(i.key))?n:i.size);0!==u&&(i.start<o.scrollOffset&&o._scrollToOffset(o.scrollOffset,{adjustments:o.scrollAdjustments+=u,behavior:void 0}),o.pendingMeasuredCacheIndexes.push(r),o.itemSizeCache=new Map(o.itemSizeCache.set(i.key,l)),o.notify())}},this.measureElement=function(e){e&&o._measureElement(e,void 0)},this.getVirtualItems=s((function(){return[o.getIndexes(),o.getMeasurements()]}),(function(e,t){for(var n=[],o=0,r=e.length;o<r;o++){var i=t[e[o]];n.push(i)}return n}),{key:!1,debug:function(){return o.options.debug}}),this.getVirtualItemForOffset=function(e){var t=o.getMeasurements();return l(t[y(0,t.length-1,(function(e){return l(t[e]).start}),e)])},this.getOffsetForAlignment=function(e,t){var n=o.getSize();"auto"===t&&(t=e<=o.scrollOffset?"start":e>=o.scrollOffset+n?"end":"start"),"start"===t||("end"===t?e-=n:"center"===t&&(e-=n/2));var r=o.options.horizontal?"scrollWidth":"scrollHeight",i=(o.scrollElement?"document"in o.scrollElement?o.scrollElement.document.documentElement[r]:o.scrollElement[r]:0)-o.getSize();return Math.max(Math.min(i,e),0)},this.getOffsetForIndex=function(e,t){void 0===t&&(t="auto"),e=Math.max(0,Math.min(e,o.options.count-1));var n=l(o.getMeasurements()[e]);if("auto"===t)if(n.end>=o.scrollOffset+o.getSize()-o.options.scrollPaddingEnd)t="end";else{if(!(n.start<=o.scrollOffset+o.options.scrollPaddingStart))return[o.scrollOffset,t];t="start"}var r="end"===t?n.end+o.options.scrollPaddingEnd:n.start-o.options.scrollPaddingStart;return[o.getOffsetForAlignment(r,t),t]},this.isDynamicMode=function(){return o.measureElementCache.size>0},this.cancelScrollToIndex=function(){null!==o.scrollToIndexTimeoutId&&(clearTimeout(o.scrollToIndexTimeoutId),o.scrollToIndexTimeoutId=null)},this.scrollToOffset=function(e,t){var n=void 0===t?{}:t,r=n.align,i=void 0===r?"start":r,s=n.behavior;o.cancelScrollToIndex(),"smooth"===s&&o.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),o._scrollToOffset(o.getOffsetForAlignment(e,i),{adjustments:void 0,behavior:s})},this.scrollToIndex=function(e,t){var n=void 0===t?{}:t,r=n.align,i=void 0===r?"auto":r,s=n.behavior;e=Math.max(0,Math.min(e,o.options.count-1)),o.cancelScrollToIndex(),"smooth"===s&&o.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");var l=o.getOffsetForIndex(e,i),a=l[0],c=l[1];o._scrollToOffset(a,{adjustments:void 0,behavior:s}),"smooth"!==s&&o.isDynamicMode()&&(o.scrollToIndexTimeoutId=setTimeout((function(){if(o.scrollToIndexTimeoutId=null,o.measureElementCache.has(o.options.getItemKey(e))){var t=o.getOffsetForIndex(e,c)[0];u(t,o.scrollOffset)||o.scrollToIndex(e,{align:c,behavior:s})}else o.scrollToIndex(e,{align:c,behavior:s})})))},this.scrollBy=function(e,t){var n=(void 0===t?{}:t).behavior;o.cancelScrollToIndex(),"smooth"===n&&o.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),o._scrollToOffset(o.scrollOffset+e,{adjustments:void 0,behavior:n})},this.getTotalSize=function(){var e;return((null==(e=o.getMeasurements()[o.options.count-1])?void 0:e.end)||o.options.paddingStart)-o.options.scrollMargin+o.options.paddingEnd},this._scrollToOffset=function(e,t){var n=t.adjustments,r=t.behavior;o.options.scrollToFn(e,{behavior:r,adjustments:n},o)},this.measure=function(){o.itemSizeCache=new Map,o.notify()},this.setOptions(e),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach((function(e){o.itemSizeCache.set(e.key,e.size)})),this.maybeNotify()},y=function(e,t,n,o){for(;e<=t;){var r=(e+t)/2|0,i=n(r);if(i<o)e=r+1;else{if(!(i>o))return r;t=r-1}}return e>0?e-1:0};
/**
   * virtual-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */var E="undefined"!=typeof document?o.useLayoutEffect:o.useEffect;function x(e){var t=o.useReducer((function(){return{}}),{})[1],n=r({},e,{onChange:function(n){t(),null==e.onChange||e.onChange(n)}}),i=o.useState((function(){return new b(n)}))[0];return i.setOptions(n),o.useEffect((function(){return i._didMount()}),[]),E((function(){return i._willUpdate()})),i}e.Virtualizer=b,e.approxEqual=u,e.defaultKeyExtractor=a,e.defaultRangeExtractor=c,e.elementScroll=p,e.measureElement=v,e.memo=s,e.notUndefined=l,e.observeElementOffset=h,e.observeElementRect=d,e.observeWindowOffset=m,e.observeWindowRect=f,e.useVirtualizer=function(e){return x(r({observeElementRect:d,observeElementOffset:h,scrollToFn:p},e))},e.useWindowVirtualizer=function(e){return x(r({getScrollElement:function(){return"undefined"!=typeof document?window:null},observeElementRect:f,observeElementOffset:m,scrollToFn:g},e))},e.windowScroll=g,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.production.js.map
