{"version":3,"file":"NextStudio.cjs","sources":["../../src/studio/NextStudio.tsx"],"sourcesContent":["import {memo} from 'react'\nimport {Studio, type StudioProps} from 'sanity'\n\nimport {NextStudioClientOnly} from './NextStudioClientOnly'\nimport {NextStudioLayout} from './NextStudioLayout'\nimport {NextStudioLoading} from './NextStudioLoading'\nimport {NextStudioNoScript} from './NextStudioNoScript'\n\nexport type {NextStudioLoadingProps} from './NextStudioLoading'\n\n/** @beta */\nexport interface NextStudioProps extends StudioProps {\n  children?: React.ReactNode\n  /**\n   * Render the <noscript> tag\n   * @defaultValue true\n   * @alpha\n   */\n  unstable__noScript?: boolean\n  /**\n   * Render in a faster mode that requires `styled-components` SSR to be setup.\n   * @defaultValue false\n   * @alpha\n   */\n  unstable__fastRender?: boolean\n}\n/**\n * Intended to render at the root of a page, letting the Studio own that page and render much like it would if you used `npx sanity start` to render\n * It's a drop-in replacement for `import {Studio} from 'sanity'`\n */\nconst NextStudioComponent = ({\n  children,\n  config,\n  unstable__noScript = true,\n  unstable__fastRender,\n  scheme,\n  ...props\n}: NextStudioProps) => {\n  if (unstable__fastRender) {\n    return (\n      <>\n        {unstable__noScript && <NextStudioNoScript />}\n        <NextStudioLayout config={config} scheme={scheme}>\n          {children || (\n            <Studio config={config} scheme={scheme} unstable_globalStyles {...props} />\n          )}\n        </NextStudioLayout>\n      </>\n    )\n  }\n\n  return (\n    <>\n      {unstable__noScript && <NextStudioNoScript />}\n      <NextStudioClientOnly\n        fallback={\n          <NextStudioLoading\n            unstable__noScript={unstable__noScript}\n            config={config}\n            scheme={scheme}\n          />\n        }\n      >\n        <NextStudioLayout config={config} scheme={scheme}>\n          {children || (\n            <Studio config={config} scheme={scheme} unstable_globalStyles {...props} />\n          )}\n        </NextStudioLayout>\n      </NextStudioClientOnly>\n    </>\n  )\n}\n\n/**\n * Override how the Studio renders by passing children.\n * This is useful for advanced use cases where you're using StudioProvider and StudioLayout instead of Studio:\n * ```\n * import {StudioProvider, StudioLayout} from 'sanity'\n * import {NextStudio} from 'next-sanity/studio'\n * <NextStudio config={config}>\n *   <StudioProvider config={config}>\n *     <CustomComponentThatUsesContextFromStudioProvider />\n *     <StudioLayout />\n *   </StudioProvider>\n * </NextStudio>\n * ```\n * @beta\n */\nexport const NextStudio = memo(NextStudioComponent)\n"],"names":["NextStudioComponent","_ref","children","config","unstable__noScript","unstable__fastRender","scheme","props","jsxs","Fragment","NextStudioNoScript","jsx","NextStudioLayout","Studio","unstable_globalStyles","NextStudioClientOnly","fallback","NextStudioLoading","NextStudio","memo"],"mappings":";;;;;;;;;;;;AA8BA,MAAMA,sBAAsBC,IAAA,IAOL;EAAA,IAPM;IAC3BC,QAAA;IACAC,MAAA;IACAC,kBAAqB,GAAA,IAAA;IACrBC,oBAAA;IACAC,MAAA;IACA,GAAGC;EACL,CAAuB,GAAAN,IAAA;EACrB,IAAII,oBAAsB,EAAA;IACxB,sBAEKG,UAAA,CAAAA,IAAA,CAAAC,mBAAA,EAAA;MAAAP,QAAA,EAAA,CAAAE,kBAAA,kCAAuBM,kBAAmB,CAAAA,kBAAA,EAAA,EAAA,CAAA,EAAA,eAC1CC,UAAA,CAAAA,GAAA,CAAAC,gBAAA,CAAAA,gBAAA,EAAA;QAAiBT,MAAgB;QAAAG,MAAA;QAC/BJ,QACC,EAAAA,QAAA,mBAAAS,UAAA,CAAAA,GAAA,CAACE,MAAO,CAAAA,MAAA,EAAA;UAAAV,MAAA;UAAgBG,MAAgB;UAAAQ,qBAAA,EAAqB,IAAE;UAAA,GAAGP;QAAO,CAAA;OAE7E,CAAA;IACF,CAAA,CAAA;EAEJ;EAEA,sBAEKC,UAAA,CAAAA,IAAA,CAAAC,mBAAA,EAAA;IAAAP,QAAA,EAAA,CAAAE,kBAAA,kCAAuBM,kBAAmB,CAAAA,kBAAA,EAAA,EAAA,CAAA,EAAA,eAC3CC,UAAA,CAAAA,GAAA,CAACI,oBAAA,CAAAA,oBAAA,EAAA;MACCC,QACE,iBAAAL,UAAA,CAAAA,GAAA,CAACM,iBAAA,CAAAA,iBAAA,EAAA;QACCb,kBAAA;QACAD,MAAA;QACAG;MAAA,CACF,CAAA;MAGFJ,QAAC,EAAA,eAAAS,UAAA,CAAAA,GAAA,CAAAC,iCAAA,EAAA;QAAiBT,MAAgB;QAAAG,MAAA;QAC/BJ,QACC,EAAAA,QAAA,IAAAS,eAAAA,UAAAA,CAAAA,GAAA,CAACE,MAAAA,CAAAA,MAAO,EAAA;UAAAV,MAAA;UAAgBG,MAAgB;UAAAQ,qBAAA,EAAqB,IAAE;UAAA,GAAGP;QAAO,CAAA;OAE7E;IAAA,CACF,CAAA;EACF,CAAA,CAAA;AAEJ,CAAA;AAiBa,MAAAW,UAAA,GAAaC,WAAKnB,mBAAmB,CAAA;"}