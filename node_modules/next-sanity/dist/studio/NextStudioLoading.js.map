{"version":3,"file":"NextStudioLoading.js","sources":["../../src/studio/NextStudioLoading.tsx"],"sourcesContent":["'use client'\n\n/* eslint-disable no-warning-comments */\n// Intentionally not using `styled-components` to ensure it works in any `next` setup.\n// Whether 'styled-components' SSR is setup or not.\n\nimport {SpinnerIcon} from '@sanity/icons'\nimport {_responsive, rem} from '@sanity/ui'\nimport type {Config, SingleWorkspace, StudioProps} from 'sanity'\n\nimport {NextStudioNoScript} from './NextStudioNoScript'\nimport {useTheme} from './useTheme'\n\n/**\n * @alpha\n * @deprecated Will be removed in the next major release\n */\nexport interface NextStudioLoadingProps extends Pick<StudioProps, 'scheme'> {\n  /**\n   * If your Studio Config has a custom theme you can pass it here to ensure the loading screen matches your theme.\n   */\n  config?: Config | Required<Pick<SingleWorkspace, 'theme'>>\n  /**\n   * Render the <noscript> tag\n   * @defaultValue true\n   * @alpha\n   */\n  unstable__noScript?: boolean\n}\n\nconst keyframes = `\nfrom {\n  transform: rotate(0deg);\n}\n\nto {\n  transform: rotate(360deg);\n}\n`\n\n/**\n * @alpha\n * @deprecated Will be removed in the next major release\n */\nexport function NextStudioLoading(props: NextStudioLoadingProps) {\n  const {config, scheme = 'light', unstable__noScript = true} = props\n  const id = 'next-sanity-spinner'\n  const theme = useTheme(config)\n  const {fonts, media} = theme\n\n  const styles: any = _responsive(media, [2], (size: number) => {\n    const {ascenderHeight, descenderHeight, lineHeight, iconSize} = fonts.text.sizes[size]\n    const capHeight = lineHeight - ascenderHeight - descenderHeight\n\n    return {\n      wrapper: {\n        display: 'block',\n        animation: `${id} 500ms linear infinite`,\n        color:\n          theme.color[scheme === 'dark' ? 'dark' : 'light'].default.muted.default.enabled.muted\n            .fg,\n        width: rem(capHeight),\n        height: rem(capHeight),\n      },\n      svg: {\n        display: 'block',\n        width: rem(iconSize),\n        height: rem(iconSize),\n        margin: (capHeight - iconSize) / 2,\n      },\n    }\n  })[0]\n\n  return (\n    <>\n      {unstable__noScript && <NextStudioNoScript />}\n      <div\n        style={{\n          fontFamily: fonts.text.family,\n          backgroundColor: theme.color[scheme === 'dark' ? 'dark' : 'light'].default.base.bg,\n          height: '100vh',\n          maxHeight: '100dvh',\n          overscrollBehavior: 'none',\n          WebkitFontSmoothing: 'antialiased',\n          overflow: 'auto',\n        }}\n      >\n        <div\n          data-ui=\"Flex\"\n          style={{\n            display: 'flex',\n            minWidth: 0,\n            minHeight: 0,\n            alignItems: 'center',\n            justifyContent: 'center',\n            flexDirection: 'column',\n            height: '100%',\n            margin: 0,\n            padding: 0,\n            // @TODO use rem calc\n            gap: '10px',\n          }}\n        >\n          <style key={scheme}>{`@keyframes ${id} {${keyframes}}`}</style>\n          <div\n            data-ui=\"Text\"\n            style={{\n              position: 'relative',\n              // @TODO read from theme\n              fontWeight: 400,\n              // @TODO read from theme\n              padding: '1px 0px',\n              // @TODO use rem calc\n              fontSize: '1rem',\n              // @TODO use rem calc\n              lineHeight: 'calc(1.3125)',\n              // @TODO use rem calc\n              transform: 'translateY(-5px)',\n              color:\n                theme.color[scheme === 'dark' ? 'dark' : 'light'].default.muted.default.enabled\n                  .muted.fg,\n            }}\n          >\n            <span>Loadingâ€¦</span>\n          </div>\n          <div data-ui=\"Spinner\" style={styles.wrapper}>\n            <SpinnerIcon style={styles.svg} />\n          </div>\n        </div>\n      </div>\n    </>\n  )\n}\n"],"names":["scheme","unstable__noScript","media","iconSize","wrapper","display","width","svg","height","margin","children","style","fontFamily","backgroundColor","maxHeight","overscrollBehavior","WebkitFontSmoothing","overflow","minWidth","minHeight","alignItems","justifyContent","flexDirection","padding","gap","position","fontWeight","fontSize","lineHeight","transform"],"mappings":";;;;;;AA8BA;AAcO;;;AACUA;AAAkBC;AAA6B;;AAExD;;;AACQC;AAAS;;;;;;AAG+BC;;AAC9C;;AAGJC;AACEC;;;AAKAC;;;AAGFC;AACEF;AACAC;AACAE;AACAC;AACF;;;AAIJ;AAEKC;AAECC;AACEC;AACAC;AACAL;AACAM;AACAC;AACAC;AACAC;;AAGFP;AACE;AACAC;AACEN;AACAa;AACAC;AACAC;AACAC;AACAC;AACAd;AACAC;AACAc;AAAS;AAETC;;AAGFd;AAAqBA;;AAEnB;AACAC;AACEc;AAAU;AAEVC;AAAY;AAEZH;AAAS;AAETI;AAAU;AAEVC;AAAY;AAEZC;;;AAMFnB;AAAMA;;AAAQ;AAEX;;AACHA;;;;;AAEJ;AAEJ;AAEJ;"}