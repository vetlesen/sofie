'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});
var jsonpath = require('./jsonpath.cjs');
function defineEditLink(_studioUrl) {
  const studioUrl = _studioUrl.replace(/\/$/, "");
  return (sourceDocument, path) => "".concat(studioUrl, "/intent/edit/id=").concat(sourceDocument._id, ";path=").concat(encodeJsonPathToUriComponent(path));
}
function encodeJsonPathToUriComponent(path) {
  const sourcePath = Array.isArray(path) ? path : jsonpath.parseNormalisedJsonPath(path);
  return encodeURIComponent(sourcePath.map((key, i) =>
  // eslint-disable-next-line no-nested-ternary
  typeof key === "number" ? "[".concat(key, "]") : i > 0 ? ".".concat(key) : key).join(""));
}
exports.defineEditLink = defineEditLink;
exports.encodeJsonPathToUriComponent = encodeJsonPathToUriComponent;
//# sourceMappingURL=editIntent.cjs.map
