'use client';
import { jsx } from 'react/jsx-runtime';
import { isValidElement, cloneElement, Children } from 'react';
import { useLiveQuery } from './useLiveQuery.js';
function LiveQueryClientComponent(props) {
  const {
    initialData,
    query,
    params,
    children
  } = props;
  const data = useLiveQuery(initialData, query, params);
  return /* @__PURE__ */jsx(Slot, {
    data,
    children
  });
}
LiveQueryClientComponent.displayName = "LiveQuery";
const Slot = props => {
  const {
    children,
    data,
    ...slotProps
  } = props;
  if (isValidElement(children)) {
    return cloneElement(children, {
      ...slotProps,
      ...children.props,
      // all child props should override, except for `data`
      data,
      // eslint-disable-next-line no-warning-comments
      // @ts-expect-error -- @todo fix the typings
      ref: children.ref
    });
  }
  return Children.count(children) > 1 ? Children.only(null) : null;
};
Slot.displayName = "Slot";
export { LiveQueryClientComponent as default };
//# sourceMappingURL=LiveQueryClientComponent.js.map
